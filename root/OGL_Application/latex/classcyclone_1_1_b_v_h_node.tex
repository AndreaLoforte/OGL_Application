\hypertarget{classcyclone_1_1_b_v_h_node}{}\doxysection{cyclone\+::B\+V\+H\+Node$<$ Bounding\+Volume\+Class $>$ Class Template Reference}
\label{classcyclone_1_1_b_v_h_node}\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}


{\ttfamily \#include $<$collide\+\_\+coarse.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcyclone_1_1_b_v_h_node_a4a8f28a7a4806d6f18b0600df22188bd}{B\+V\+H\+Node}} (\mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}} $\ast$\mbox{\hyperlink{classcyclone_1_1_b_v_h_node_a3eb343f68d9ae84a21b093df77d720c9}{parent}}, const Bounding\+Volume\+Class \&\mbox{\hyperlink{classcyclone_1_1_b_v_h_node_abbd3b9f093c52e45712bc815b4abc3fb}{volume}}, \mbox{\hyperlink{classcyclone_1_1_rigid_body}{Rigid\+Body}} $\ast$\mbox{\hyperlink{classcyclone_1_1_b_v_h_node_a00215671a202e18e3fc2b6648d8fabb6}{body}}=N\+U\+LL)
\item 
bool \mbox{\hyperlink{classcyclone_1_1_b_v_h_node_a4f3f19fc1c9afbc591c59d92f2aacedc}{is\+Leaf}} () const
\item 
unsigned \mbox{\hyperlink{classcyclone_1_1_b_v_h_node_a6e604dff134e47d0a8a09d71f8fd5cca}{get\+Potential\+Contacts}} (\mbox{\hyperlink{structcyclone_1_1_potential_contact}{Potential\+Contact}} $\ast$contacts, unsigned limit) const
\item 
\mbox{\hyperlink{glcorearb_8h_a950fc91edb4504f62f1c577bf4727c29}{void}} \mbox{\hyperlink{classcyclone_1_1_b_v_h_node_ad442c6718a1248c0efd5c6f0e452624f}{insert}} (\mbox{\hyperlink{classcyclone_1_1_rigid_body}{Rigid\+Body}} $\ast$\mbox{\hyperlink{classcyclone_1_1_b_v_h_node_a00215671a202e18e3fc2b6648d8fabb6}{body}}, const Bounding\+Volume\+Class \&\mbox{\hyperlink{classcyclone_1_1_b_v_h_node_abbd3b9f093c52e45712bc815b4abc3fb}{volume}})
\item 
\mbox{\hyperlink{classcyclone_1_1_b_v_h_node_af52053336b7b66c46701c6ec03f4d6fe}{$\sim$\+B\+V\+H\+Node}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}} $\ast$ \mbox{\hyperlink{classcyclone_1_1_b_v_h_node_a4d1603827255072e86812c323b11bb5d}{children}} \mbox{[}2\mbox{]}
\item 
Bounding\+Volume\+Class \mbox{\hyperlink{classcyclone_1_1_b_v_h_node_abbd3b9f093c52e45712bc815b4abc3fb}{volume}}
\item 
\mbox{\hyperlink{classcyclone_1_1_rigid_body}{Rigid\+Body}} $\ast$ \mbox{\hyperlink{classcyclone_1_1_b_v_h_node_a00215671a202e18e3fc2b6648d8fabb6}{body}}
\item 
\mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}} $\ast$ \mbox{\hyperlink{classcyclone_1_1_b_v_h_node_a3eb343f68d9ae84a21b093df77d720c9}{parent}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classcyclone_1_1_b_v_h_node_af3acfa9d7d64874edaa65daef3bf6a53}{overlaps}} (const \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$ $\ast$other) const
\item 
unsigned \mbox{\hyperlink{classcyclone_1_1_b_v_h_node_a7ebb1ac9b0cf6d7324f08dffca55e0fb}{get\+Potential\+Contacts\+With}} (const \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$ $\ast$other, \mbox{\hyperlink{structcyclone_1_1_potential_contact}{Potential\+Contact}} $\ast$contacts, unsigned limit) const
\item 
\mbox{\hyperlink{glcorearb_8h_a950fc91edb4504f62f1c577bf4727c29}{void}} \mbox{\hyperlink{classcyclone_1_1_b_v_h_node_a189d4318760cf8d3e3292418e863d8d5}{recalculate\+Bounding\+Volume}} (bool recurse=true)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class Bounding\+Volume\+Class$>$\newline
class cyclone\+::\+B\+V\+H\+Node$<$ Bounding\+Volume\+Class $>$}

A base class for nodes in a bounding volume hierarchy.

This class uses a binary tree to store the bounding volumes. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_a4a8f28a7a4806d6f18b0600df22188bd}\label{classcyclone_1_1_b_v_h_node_a4a8f28a7a4806d6f18b0600df22188bd}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!BVHNode@{BVHNode}}
\index{BVHNode@{BVHNode}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{BVHNode()}{BVHNode()}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class$>$ \\
\mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::\mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$ $\ast$}]{parent,  }\item[{const Bounding\+Volume\+Class \&}]{volume,  }\item[{\mbox{\hyperlink{classcyclone_1_1_rigid_body}{Rigid\+Body}} $\ast$}]{body = {\ttfamily NULL} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Creates a new node in the hierarchy with the given parameters. \mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_af52053336b7b66c46701c6ec03f4d6fe}\label{classcyclone_1_1_b_v_h_node_af52053336b7b66c46701c6ec03f4d6fe}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!````~BVHNode@{$\sim$BVHNode}}
\index{````~BVHNode@{$\sim$BVHNode}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{$\sim$BVHNode()}{~BVHNode()}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class $>$ \\
\mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::$\sim$\mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Deltes this node, removing it first from the hierarchy, along with its associated rigid body and child nodes. This method deletes the node and all its children (but obviously not the rigid bodies). This also has the effect of deleting the sibling of this node, and changing the parent node so that it contains the data currently in that sibling. Finally it forces the hierarchy above the current node to reconsider its bounding volume. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_a6e604dff134e47d0a8a09d71f8fd5cca}\label{classcyclone_1_1_b_v_h_node_a6e604dff134e47d0a8a09d71f8fd5cca}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!getPotentialContacts@{getPotentialContacts}}
\index{getPotentialContacts@{getPotentialContacts}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{getPotentialContacts()}{getPotentialContacts()}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class $>$ \\
unsigned \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::get\+Potential\+Contacts (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcyclone_1_1_potential_contact}{Potential\+Contact}} $\ast$}]{contacts,  }\item[{unsigned}]{limit }\end{DoxyParamCaption}) const}

Checks the potential contacts from this node downwards in the hierarchy, writing them to the given array (up to the given limit). Returns the number of potential contacts it found. \mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_a7ebb1ac9b0cf6d7324f08dffca55e0fb}\label{classcyclone_1_1_b_v_h_node_a7ebb1ac9b0cf6d7324f08dffca55e0fb}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!getPotentialContactsWith@{getPotentialContactsWith}}
\index{getPotentialContactsWith@{getPotentialContactsWith}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{getPotentialContactsWith()}{getPotentialContactsWith()}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class $>$ \\
unsigned \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::get\+Potential\+Contacts\+With (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$ $\ast$}]{other,  }\item[{\mbox{\hyperlink{structcyclone_1_1_potential_contact}{Potential\+Contact}} $\ast$}]{contacts,  }\item[{unsigned}]{limit }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}

Checks the potential contacts between this node and the given other node, writing them to the given array (up to the given limit). Returns the number of potential contacts it found. \mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_ad442c6718a1248c0efd5c6f0e452624f}\label{classcyclone_1_1_b_v_h_node_ad442c6718a1248c0efd5c6f0e452624f}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!insert@{insert}}
\index{insert@{insert}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{insert()}{insert()}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class $>$ \\
\mbox{\hyperlink{glcorearb_8h_a950fc91edb4504f62f1c577bf4727c29}{void}} \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::insert (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcyclone_1_1_rigid_body}{Rigid\+Body}} $\ast$}]{body,  }\item[{const Bounding\+Volume\+Class \&}]{volume }\end{DoxyParamCaption})}

Inserts the given rigid body, with the given bounding volume, into the hierarchy. This may involve the creation of further bounding volume nodes. \mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_a4f3f19fc1c9afbc591c59d92f2aacedc}\label{classcyclone_1_1_b_v_h_node_a4f3f19fc1c9afbc591c59d92f2aacedc}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!isLeaf@{isLeaf}}
\index{isLeaf@{isLeaf}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{isLeaf()}{isLeaf()}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class$>$ \\
bool \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::is\+Leaf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Checks if this node is at the bottom of the hierarchy. \mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_af3acfa9d7d64874edaa65daef3bf6a53}\label{classcyclone_1_1_b_v_h_node_af3acfa9d7d64874edaa65daef3bf6a53}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!overlaps@{overlaps}}
\index{overlaps@{overlaps}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{overlaps()}{overlaps()}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class $>$ \\
bool \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::overlaps (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$ $\ast$}]{other }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}

Checks for overlapping between nodes in the hierarchy. Note that any bounding volume should have an overlaps method implemented that checks for overlapping with another object of its own type. \mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_a189d4318760cf8d3e3292418e863d8d5}\label{classcyclone_1_1_b_v_h_node_a189d4318760cf8d3e3292418e863d8d5}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!recalculateBoundingVolume@{recalculateBoundingVolume}}
\index{recalculateBoundingVolume@{recalculateBoundingVolume}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{recalculateBoundingVolume()}{recalculateBoundingVolume()}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class $>$ \\
\mbox{\hyperlink{glcorearb_8h_a950fc91edb4504f62f1c577bf4727c29}{void}} \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::recalculate\+Bounding\+Volume (\begin{DoxyParamCaption}\item[{bool}]{recurse = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

For non-\/leaf nodes, this method recalculates the bounding volume based on the bounding volumes of its children. 

\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_a00215671a202e18e3fc2b6648d8fabb6}\label{classcyclone_1_1_b_v_h_node_a00215671a202e18e3fc2b6648d8fabb6}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!body@{body}}
\index{body@{body}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{body}{body}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class$>$ \\
\mbox{\hyperlink{classcyclone_1_1_rigid_body}{Rigid\+Body}}$\ast$ \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::body}

Holds the rigid body at this node of the hierarchy. Only leaf nodes can have a rigid body defined (see is\+Leaf). Note that it is possible to rewrite the algorithms in this class to handle objects at all levels of the hierarchy, but the code provided ignores this vector unless first\+Child is N\+U\+LL. \mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_a4d1603827255072e86812c323b11bb5d}\label{classcyclone_1_1_b_v_h_node_a4d1603827255072e86812c323b11bb5d}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!children@{children}}
\index{children@{children}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{children}{children}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class$>$ \\
\mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}}$\ast$ \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::children\mbox{[}2\mbox{]}}

Holds the child nodes of this node. \mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_a3eb343f68d9ae84a21b093df77d720c9}\label{classcyclone_1_1_b_v_h_node_a3eb343f68d9ae84a21b093df77d720c9}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!parent@{parent}}
\index{parent@{parent}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{parent}{parent}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class$>$ \\
\mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{B\+V\+H\+Node}}$\ast$ \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::parent}

Holds the node immediately above us in the tree. \mbox{\Hypertarget{classcyclone_1_1_b_v_h_node_abbd3b9f093c52e45712bc815b4abc3fb}\label{classcyclone_1_1_b_v_h_node_abbd3b9f093c52e45712bc815b4abc3fb}} 
\index{cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}!volume@{volume}}
\index{volume@{volume}!cyclone::BVHNode$<$ BoundingVolumeClass $>$@{cyclone::BVHNode$<$ BoundingVolumeClass $>$}}
\doxysubsubsection{\texorpdfstring{volume}{volume}}
{\footnotesize\ttfamily template$<$class Bounding\+Volume\+Class$>$ \\
Bounding\+Volume\+Class \mbox{\hyperlink{classcyclone_1_1_b_v_h_node}{cyclone\+::\+B\+V\+H\+Node}}$<$ Bounding\+Volume\+Class $>$\+::volume}

Holds a single bounding volume encompassing all the descendents of this node. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/\+P\+H\+Y\+S\+I\+C\+S\+\_\+\+H/\mbox{\hyperlink{collide__coarse_8h}{collide\+\_\+coarse.\+h}}\end{DoxyCompactItemize}
